<div class="form-question-group force-margin" ng-show="paytype">
    <div class="form-question-block">
        <div class="form-question-text">
            How many workers did the employer pay {{ paytype === 'hourly' ? 'hourly' : 'on a piece rate basis'}}?
            <helplink></helplink>
            <helptext>This is the help text.</helptext>
        </div>
        <div class="form-question-answer">
            <input id="numWorkers" name="numWorkers" type="number" class="numeric7" min="0" step="1" ng-model="formData[modelPrefix()].numWorkers">
        </div>
    </div>

    <div class="form-question-block">
        <div class="form-question-text">
            What was the job or contract on which the employer employed the largest number of workers at hourly subminimum wage rates during the most recently completed fiscal quarter?
            <helplink></helplink>
            <helptext>This is the help text.</helptext>
        </div>
        <div class="form-question-answer">
            <label for="jobName">Name of Job or Contract</label>
            <input id="jobName" name="jobName" type="text" ng-model="formData[modelPrefix()].jobName">
            <label for="jobDescription">Description of Work Performed</label>
            <textarea id="jobDescription" name="jobDescription" ng-model="formData[modelPrefix()].jobDescription"></textarea>
        </div>
    </div>

    <div class="form-question-block">
        <div class="form-question-text">
            Which method did the employer use to determine the Prevailing Wage for the job or contract identified above?
            <helplink></helplink>
            <helptext>This is the help text.</helptext>
        </div>
        <fieldset class="usa-fieldset-inputs form-question-answer">
            <legend class="usa-sr-only">Prevailing Wage Method</legend>

            <ul class="usa-unstyled-list">
                <li ng-repeat="response in responses.PrevailingWageMethod">
                    <input id="wagemethod_{{ response.id }}" type="radio" name="wage-method" ng-value="response.id" ng-model="formData[modelPrefix()].prevailingWageMethod">
                    <label for="wagemethod_{{ response.id }}">{{ response.display }}</label>
                </li>
            </ul>
        </fieldset>
    </div>

    <div class="form-question-group em-block" ng-show="formData[modelPrefix()].prevailingWageMethod === 24">
        <div class="form-question-block">
            <div class="form-question-text">Provide information for the most recent Prevailing Wage survey conducted for the job or contract indentified above:</div>
            <div class="form-question-answer">
                <label for="prevailingWageDetermined">Prevailing Wage Determined based on this survey</label>
                <input id="prevailingWageDetermined" name="prevailingWageDetermined" type="number" class="wage-rate" min="0" step="0.01" ng-model="formData[modelPrefix()].mostRecentPrevailingWageSurvey.prevailingWageDetermined">
                <label>You must provide <strong>3</strong> Source Employers for the survey</label>
                <div ng-show="vm.addingEmployer">
                    <hr>
                    <label for="sourceEmployerName">Source Employer Name</label>
                    <input id="sourceEmployerName" name="sourceEmployerName" type="text" ng-model="vm.activeSourceEmployer.employerName">

                    <form class="usa-form-large">
                        <fieldset>
                          <label for="mailing-address-1">Street address</label>
                          <input id="mailing-address-1" name="mailing-address-1" type="text" ng-model="vm.activeSourceEmployer.address.streetAddress">

                          <!--<label for="mailing-address-2">Street address 2 <span class="usa-additional_text">Optional</span></label>
                          <input id="mailing-address-2" name="mailing-address-2" type="text">-->

                          <div>
                            <div class="usa-input-grid usa-input-grid-medium">
                              <label for="city">City</label>
                              <input id="city" name="city" type="text" ng-model="vm.activeSourceEmployer.address.city">
                            </div>

                            <div class="usa-input-grid usa-input-grid-small">
                              <label for="state">State</label>
                              <select id="state" name="state" ng-model="vm.activeSourceEmployer.address.state">
                                <option value></option>
                                <option value="AL">Alabama</option>
                                <option value="AK">Alaska</option>
                                <option value="AZ">Arizona</option>
                                <option value="AR">Arkansas</option>
                                <option value="CA">California</option>
                                <option value="CO">Colorado</option>
                                <option value="CT">Connecticut</option>
                                <option value="DE">Delaware</option>
                                <option value="DC">District of Columbia</option>
                                <option value="FL">Florida</option>
                                <option value="GA">Georgia</option>
                                <option value="HI">Hawaii</option>
                                <option value="ID">Idaho</option>
                                <option value="IL">Illinois</option>
                                <option value="IN">Indiana</option>
                                <option value="IA">Iowa</option>
                                <option value="KS">Kansas</option>
                                <option value="KY">Kentucky</option>
                                <option value="LA">Louisiana</option>
                                <option value="ME">Maine</option>
                                <option value="MD">Maryland</option>
                                <option value="MA">Massachusetts</option>
                                <option value="MI">Michigan</option>
                                <option value="MN">Minnesota</option>
                                <option value="MS">Mississippi</option>
                                <option value="MO">Missouri</option>
                                <option value="MT">Montana</option>
                                <option value="NE">Nebraska</option>
                                <option value="NV">Nevada</option>
                                <option value="NH">New Hampshire</option>
                                <option value="NJ">New Jersey</option>
                                <option value="NM">New Mexico</option>
                                <option value="NY">New York</option>
                                <option value="NC">North Carolina</option>
                                <option value="ND">North Dakota</option>
                                <option value="OH">Ohio</option>
                                <option value="OK">Oklahoma</option>
                                <option value="OR">Oregon</option>
                                <option value="PA">Pennsylvania</option>
                                <option value="RI">Rhode Island</option>
                                <option value="SC">South Carolina</option>
                                <option value="SD">South Dakota</option>
                                <option value="TN">Tennessee</option>
                                <option value="TX">Texas</option>
                                <option value="UT">Utah</option>
                                <option value="VT">Vermont</option>
                                <option value="VA">Virginia</option>
                                <option value="WA">Washington</option>
                                <option value="WV">West Virginia</option>
                                <option value="WI">Wisconsin</option>
                                <option value="WY">Wyoming</option>
                                <option value="AS">American Samoa</option>
                                <option value="GU">Guam</option>
                                <option value="MP">Northern Mariana Islands</option>
                                <option value="PR">Puerto Rico</option>
                                <option value="UM">United States Minor Outlying Islands</option>
                                <option value="VI">Virgin Islands</option>
                              </select>
                            </div>
                          </div>

                          <label for="zip">ZIP</label>
                          <input class="usa-input-medium" id="zip" name="zip" type="text" pattern="[\d]{5}(-[\d]{4})?" data-grouplength="5,4" data-delimiter="-" data-politespace  ng-model="vm.activeSourceEmployer.address.zipCode">
                        </fieldset>
                    </form>

                    <label for="sourceEmployerPhone">Telephone Number</label>
                    <input id="sourceEmployerPhone" name="sourceEmployerPhone" type="text" class="phoneno" ng-model="vm.activeSourceEmployer.phone">

                    <label for="sourceEmployerContactName">Full Name of Individual Contacted</label>
                    <input id="sourceEmployerContactName" name="sourceEmployerContactName" type="text" ng-model="vm.activeSourceEmployer.contactName">

                    <label for="sourceEmployerContactTitle">Title of Individual Contacted</label>
                    <input id="sourceEmployerContactTitle" name="sourceEmployerContactTitle" type="text" ng-model="vm.activeSourceEmployer.contactTitle">

                    <label>Date of Contact</label>
                    <fieldset>
                        <date-field date-val="vm.activeSourceEmployer.contactDate" />
                    </fieldset>

                    <label for="sourceEmployerJobDescription">Brief Description of Job/Task</label>
                    <input id="sourceEmployerJobDescription" name="sourceEmployerJobDescription" type="text" ng-model="vm.activeSourceEmployer.jobDescription">

                    <label for="sourceEmployerWage">Experience Worker Wage Provided</label>
                    <input id="sourceEmployerWage" name="sourceEmployerWage" type="number" class="wage-rate" min="0" step="0.01" ng-model="vm.activeSourceEmployer.experiencedWorkerWageProvided">

                    <label for="sourceEmployerBasis">Basis for Conclusion Wage Rate is Not Based on Entry</label>
                    <input id="sourceEmployerBasis" name="sourceEmployerBasis" type="text" ng-model="vm.activeSourceEmployer.conclusionWageRateNotBasedOnEntry">

                    <div class="form-spaced-div" ng-show="vm.addingEmployer">
                        <button class="grey-button" ng-click="vm.cancelAddSourceEmployer()">Cancel</button><span class="pull-right"><button class="green-button" ng-click="vm.addSourceEmployer()">Save Source Employer</button></span>
                    </div>
                    <hr>
                </div>
                <button ng-click="vm.addingEmployer = true" ng-hide="vm.addingEmployer">Add a Source Employer</button>
                <table class="usa-table-borderless" ng-show="formData[modelPrefix()].mostRecentPrevailingWageSurvey.sourceEmployers.length">
                    <thead>
                        <tr>
                            <th scope="col">Work Site Name</th>
                            <th scope="col">Experienced Wage Provided</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="employer in formData[modelPrefix()].mostRecentPrevailingWageSurvey.sourceEmployers">
                            <th scope="row">{{ employer.employerName }}</th>
                            <td>${{ employer.experiencedWorkerWageProvided }}</td>
                            <td><button class="green-button" ng-click="vm.editSourceEmployer($index)">Edit</button><button class="usa-button-secondary" ng-click="vm.deleteSourceEmployer($index)">Delete</button></td>
                        </tr>
                    </tbody>
                </table>
                <label>If needed, attach an additional sheet headed "Prevailing Wage Determination-{{ paytype === 'hourly' ? 'Hourly' : 'Piece Rate'}}"</label>
                <attachment-field attachment-id="formData[modelPrefix()].mostRecentPrevailingWageSurvey.attachmentId" attachment-name="formData[modelPrefix()].mostRecentPrevailingWageSurvey.attachmentName" />
            </div>
        </div>
    </div>

    <div class="form-question-group em-block" ng-show="formData[modelPrefix()].prevailingWageMethod === 25">
        <div class="form-question-block">
            <div class="form-question-text">Provide the alternate wage data source used and the prevailing wage provided by that source:</div>
            <label>Examples of alternate sources include U.S. Bureau of Labor Statistics (BLS) or private or State employment services data.
            <div class="form-question-answer">
                <label for="alternateWorkDescription">Description of Work (include job classification code, if known)</label>
                <textarea id="alternateWorkDescription" name="alternateWorkDescription" ng-model="formData[modelPrefix()].alternateWageData.alternateWorkDescription"></textarea>

                <label for="alternateDataSourceUsed">Alternate data source used </label>
                <input id="alternateDataSourceUsed" name="alternateDataSourceUsed" type="text" ng-model="formData[modelPrefix()].alternateWageData.alternateDataSourceUsed">

                <label for="prevailingWageProvidedBySource">Prevailing wage provided by source</label>
                <input id="prevailingWageProvidedBySource" name="prevailingWageProvidedBySource" type="number" class="wage-rate" min="0" step="0.01" ng-model="formData[modelPrefix()].alternateWageData.prevailingWageProvidedBySource">

                <label>Date data retrieved</label>
                <fieldset>
                    <date-field date-val="formData[modelPrefix()].alternateWageData.dataRetrieved" />
                    <label class="example">Example: 04 30 2016</label>
                </fieldset>

            </div>
        </div>
    </div>

    <div class="form-question-group em-block" ng-show="formData[modelPrefix()].prevailingWageMethod === 26">
        <div class="form-question-block">
            <div class="form-question-text">Attach the applicable SCA Wage Determination</div>
            <attachment-field attachment-id="formData[modelPrefix()].scaWageDeterminationAttachmentId" attachment-name="formData[modelPrefix()].scaWageDeterminationAttachmentName" />
        </div>
    </div>

    <div class="form-question-group" ng-show="paytype === 'hourly'">
        <div class="form-question-block">
            <div class="form-question-text">
                How frequently does the employer conduct work measurements or time studies of each worker with a disability who is paid an hourly subminimum wage?
                <helplink></helplink>
                <helptext>This is the help text.</helptext>
            </div>
            <div class="form-question-answer">
                <input id="workMeasurementFrequency" name="workMeasurementFrequency" type="text" ng-model="formData[modelPrefix()].workMeasurementFrequency">
            </div>
        </div>

        <div class="form-question-block">
            <div class="form-question-text">
                Attach a work measurement or time study for ONE currently employed worker with a disability who is paid an hourly subminimum wage for the contract identified above.
                <helplink></helplink>
                <helptext>This is the help text.</helptext>
            </div>
            <attachment-field attachment-id="formData[modelPrefix()].attachmentId" attachment-name="formData[modelPrefix()].attachmentName" />
        </div>
    </div>

    <div class="form-question-group" ng-show="paytype === 'piecerate'">
        <div class="form-question-block">
            <div class="form-question-text">Provide the following information for the job or contract identified above:</div>
            <div class="form-question-answer">
                <label for="pieceRateWorkDescription">Descripton of Work</label>
                <input id="pieceRateWorkDescription" name="pieceRateWorkDescription" type="text" ng-model="formData[modelPrefix()].pieceRateWorkDescription">

                <label for="prevailingWageDeterminedForJob">Prevailing Wage Determined for This Job</label>
                <input id="prevailingWageDeterminedForJob" name="prevailingWageDeterminedForJob" type="number" class="wage-rate sidelabeled" min="0" step="0.01" ng-model="formData[modelPrefix()].prevailingWageDeterminedForJob"> <label>rate per hour</label>

                <label for="standardProductivity">Standard Productivity</label>
                <input id="standardProductivity" name="standardProductivity" type="number" class="wage-rate sidelabeled" min="0" step="0.01" ng-model="formData[modelPrefix()].standardProductivity"> <label>units per hour</label>

                <label for="pieceRatePaidToWorkers">Piece Rate Paid to Workers</label>
                <input id="pieceRatePaidToWorkers" name="pieceRatePaidToWorkers" type="number" class="wage-rate sidelabeled" min="0" step="0.01" ng-model="formData[modelPrefix()].pieceRatePaidToWorkers"> <label>rate per unit</label>
            </div>
        </div>

        <div class="form-question-block">
            <div class="form-question-text">Attach all documents of the methods used to determine the standard productivity and the piece rate.</div>
            <div class="form-question-answer">
                <span>Examples include detailed task analysis(including quality and quantity measures), and productivity of an experienced worker who is not disabled for the work performing the same job (i.e. "standard setter").</span>
                <attachment-field attachment-id="formData[modelPrefix()].attachmentId" attachment-name="formData[modelPrefix()].attachmentName" />
            </div>
        </div>
    </div>
</div>
