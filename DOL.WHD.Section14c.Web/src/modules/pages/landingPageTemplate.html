<dol-header></dol-header>

<main tabindex="-1" id="mainContent" role="main" class="main-content">

  <main-top-nav-control></main-top-nav-control>
  <div ng-show="applicationLoadError.status" role="alert" tabindex="0">
    <div class="dol-feedback-error">
      <p class="dol-feedback-message">
        <strong>We've run into a problem</strong>
      </p>
    </div>
    <span ng-show="!organizations"> You do not have any employers associated with this account. Please click "Register a New Employer" to continue.</span>

    <div class="container dol-employees-data-container">
      <table id="EmployerTable" class="dol-datatable display responsive" cellspacing="0" width="100%" ng-show="organizations">

      </table>
    </div>
    <button class="save-button" ng-click="navToEmployerRegistration()">Start a new application</button>
  </div>

  <div ng-show="!organizations">
    <p>You do not have any employers associated with this account. Please click "Register a New Employer" to continue.</p>
    <p><button ng-click="navToEmployerRegistration()">Register a New Employer</button></p>
  </div>

  <div ng-show="organizations">
    <div class="dol-application-start"> <!-- SHOW this div if application has not been started. HIDE this div if the application is in progress. -->
      <button>Start New Application</button>
    </div>
    <div class="dol-application-continue"> <!-- HIDE this div if application has not been started. SHOW this div if the application is in progress. -->
      <p><button>Continue Current Application</button> <span class="dol-modified-date">Last Modified: February 20, 2018</span></p>
      <p>Need a fresh start? <a href="">Clear all responses from the current application.</a></p>  
    </div>   
    <hr>
    <h3 class="dol-table-header">Submitted Applications</h3>
    <table id="EmployerTable" class="dol-datatable display responsive" cellspacing="0" width="100%">
      <caption class="hide">All previously submitted applications for this account, listed by employer and date submitted. Includes access to a
        downloadable PDF of the submitted application.</caption>
    </table>
  </div>


  <div ng-if="stateService.user.email">
    <a href ng-click="changePassword()" name="Change Password">Change Password</a>
  </div>

  <h2 ng-if="stateService.hasClaim('UserManagement.CreateAccount') || stateService.hasClaim('UserManagement.GetAccounts')">User Management</h2>
  <div ng-if="stateService.hasClaim('UserManagement.CreateAccount')">
    <account-create-button></account-create-button>
  </div>
  <div ng-if="stateService.hasClaim('UserManagement.GetAccounts')">
    <account-grid></account-grid>
  </div>
</main>

<dol-footer></dol-footer>
