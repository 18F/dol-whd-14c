<dol-header></dol-header>

<main tabindex="-1" id="mainContent" role="main" class="main-content">
 
  <div>
    <main-top-nav-control></main-top-nav-control>
    <div ng-repeat="organization in organizations track by $index">
      <div >
        <button class="save-button" ng-click="onApplicationClick($index)">
          <span ng-show="organization.applicationStatus.name === 'New'">Start A New</span> 
          <span ng-show="organization.applicationStatus.name === 'InProgress'">Continue</span> 
          <span ng-show="organization.applicationStatus.name === 'Submitted'">View</span> Application for {{organization.employer.legalName}}</button>
      </div>
    </div>
    <button class="save-button" ng-click="navToEmployerRegistration()">Register a New Employer</button>
  </div>

  <div ng-if="stateService.user.email">
    <a href ng-click="changePassword()" name="Change Password">Change Password</a>
  </div>

  <h2 ng-if="stateService.hasClaim('UserManagement.CreateAccount') || stateService.hasClaim('UserManagement.GetAccounts')">User Management</h2>
  <div ng-if="stateService.hasClaim('UserManagement.CreateAccount')">
    <account-create-button></account-create-button>
  </div>
  <div ng-if="stateService.hasClaim('UserManagement.GetAccounts')">
    <account-grid></account-grid>
  </div>
</main>

<dol-footer></dol-footer>
